name: ci

on:
  pull_request:
    branches: ["main"]
  push:
    branches: ["main"]

permissions:
  contents: read

jobs:
  structure_check:
    name: structure-check
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Validate solution and project structure
        shell: bash
        run: |
          echo "Checking required files in BurnerID/..."

          test -f "BurnerID/BurnerID.sln"

          test -f "BurnerID/API/API.csproj"
          test -f "BurnerID/Application/Application.csproj"
          test -f "BurnerID/Domain/Domain.csproj"
          test -f "BurnerID/Infrastructure/Infrastructure.csproj"

          echo "âœ… Clean Architecture structure is valid."
